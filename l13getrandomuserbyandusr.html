<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP request By AJAX - Random User</title>
</head>

<body>
    <script type="text/javascript">

        let uri = 'https://randomuser.me/api/';

        const xmlhttp = new XMLHttpRequest();
        console.log(xmlhttp);

        xmlhttp.open("GET", uri, true);// true (synchronize)
        xmlhttp.send();
      
        xmlhttp.onreadystatechange = function(){
            // console.log("state change = ",xmlhttp.readyState,xmlhttp.status);
            if(xmlhttp.readyState===4 && xmlhttp.status ===200){
                let result = xmlhttp.responseText;
                result =JSON.parse(result);

                console.log(result);
                console.log(result.results[0].name);
                console.log(result.results[0].name.last);
                console.log(result.results[0].picture);
            }
        }
        // // console.log(uri);
        // let result;
        // if (xmlhttp.readyState === 4 && xmlhttp.status === 200) {
        //     result = xmlhttp.responseText;
        // }
        // result = JSON.parse(result);

        //=>result Oki
        // xmlhttp.open("GET", uri, false);
        // xmlhttp.send();

     
    </script>

</body>

</html>

//  xmlhttp.onreadystatechange
    xmlhttp.readyState =4

    0 = UNSENT open() has not been called yet
    1 = OPEN send() has been called
    2 = HEADER_RECEIVED send() has been called (under network) and status are avaliable 
    3 = LOADING downloading, responseText hold partial datas
    4 = DONE this operation is completed